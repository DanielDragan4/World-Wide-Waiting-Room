<div id="leaderboard">
  {% set compressed = data["compressed"] %}
  <div class="max-w-[1200px] mx-auto rounded m-2 flex flex-row flex-wrap [&>*]:m-[{% if compressed %}0{% else %}2{% endif %}px] ">
    {% for x in leaderboard %}
      {% if compressed %}
      <div 
        style="background: {{ x['color'] }}"
        class="w-[4vh] h-[4vw]"
      ></div>
      {% else %}
      <div 
        {% if x['color'] %}
        style="background: {{ x['color'] }}" 
        {% endif %}
        class="relative card flex flex-col shadow-md rounded w-48 text-center items-center justify-center h-48"
      >
        <h2 class="text-lg font-bold text-red absolute top-2">{{ x["name"] }}</h2>
        <div>{{ x["time_waited"] }}</div>
        {% if this_waiter != x["user"] %}
        <form hx-post="/transfer" hx-swap="none" class="flex flex-row space-x-4 mt-auto absolute bottom-0">
          <input type="hidden" name="waiter" value="{{ x["user"] }}">
          <button name="action" value="give" class="hover:underline font-bold rounded ">Give 10s</button>
          <button name="action" value="take" class="hover:underline font-bold rounded ">Take 10s</button>
        </form>
        {% else %}
        <div></div>
        {% endif %}
      </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
