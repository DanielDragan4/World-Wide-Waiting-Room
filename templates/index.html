<html>
  <head>
    <script src="/tailwind.js"></script>
    <script src="/htmx.js"></script>
    <script src="/ws.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="/man.png">
    <meta property="og:title" content="World Wide Waiting Room" />
    <meta property="og:description" content="Do nothing and you win! But be careful, others might steal your time." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://worldwidewaitingroom.com" />
    <meta property="og:site_name" content="World Wide Waiting Room" />
    <meta property="og:locale" content="en_US" />
    <title>World Wide Waiting Room</title>
  </head>
  <body>
    <div class="fixed top-4 right-4 z-100">
      <div id="notification" class="flex flex-col space-y-2 max-h-64 overflow-y-auto z-100">
      </div>
    </div>
    <div hx-ext="ws" ws-connect="/ws"></div>
    <div class="mx-auto w-full text-center mt-4">
      <!--<img src="/man.png" class="mt-2 mx-auto w-[360px]">-->
      <h1 class="font-bold text-white text-[2em]">World Wide Waiting Room</h1>
    </div>

    <div class="flex flex-col items-center">
      <h2 class="text-white mt-4 text-[1.3em]">Like waiting? Join our <a href="https://discord.gg/wBn6d2Vq" target="_blank" class="cursor-pointer hover:underline text-white font-bold">Discord</a>!</h2>

      <h1 class="text-white mt-4">Your Name</h1>
      <input 
        hx-post="/name" 
        hx-swap="none" 
        placeholder="Name"
        name="name"
        class="outline-none text-[4em] w-full text-center text-white max-w-max mx-auto bg-[#2e2e33] rounded mb-4" 
        type="text" 
        value="{{ name }}"
      >

      <h1 class="text-white">Card Color</h1>
      <input 
        hx-post="/color" 
        hx-swap="none" 
        name="color"
        placeholder="Card Color"
        class="border-none bg-transparent w-[32px] h-[32px]" 
        type="color" 
        value="{{ color }}"
      >
    </div>

    <h3 hx-swap-oob="true" id="time-left"></h3>
    <div id="waiter-card" hx-swap-oob="true"></div>
    <!--<h1 class="text-center text-white">Do nothing and you win! But be careful, others might steal your time.</h1>-->
    <div id="compressed-button" class="mx-auto flex justify-center" hx-trigger="load" hx-swap="innerHTML" hx-get="/compressed"></div>
    <div id="leaderboard" hx-swap-oob="true"></div> 

    <script>
      const notifications = document.querySelector("#notification")
      function take() {
        takeDiv = document.createElement("div") 
        takeDiv.className = "rounded text-white p-2 bg-red-400"
        takeDiv.innerHTML = "You took 10s!"
        notifications.appendChild(takeDiv);

        setTimeout((x) => x.remove(), 1000, takeDiv);
      }

      function give() {
        giveDiv = document.createElement("div") 
        giveDiv.className = "rounded text-white p-2 bg-green-400"
        giveDiv.innerHTML = "You gave 10s!"
        notifications.appendChild(giveDiv);

        setTimeout((x) => x.remove(), 1000, giveDiv);
      }
    </script>
  </body>
</html>

