<h1 id="time-left" class="text-[0.75em] text-white text-center fixed top-4 left-4 border rounded p-2">
  {{ time_left }}
</h1>

<div style="background: {{ data["color"] }}" id="waiter-card" class="shadow w-72 h-32 rounded mx-auto my-4 flex flex-col text-center items-center justify-center">
  <h1 class="text-xl">You have been waiting for...</h1>
  <span>{{ data["time_waited"] }}</span>
  <span>You are currently in <strong>{{ data["place"] }}{% if data["place"] == 1 %}st{% else %}th{% endif %}</strong></span>
</div>

<div id="leaderboard">
  {% set compressed = data["compressed"] %}
  <div class="max-w-[1200px] mx-auto rounded m-2 flex flex-row flex-wrap [&>*]:m-[{% if compressed %}0{% else %}2{% endif %}px] ">
    {% for x in leaderboard %}
      {% if compressed %}
      <div 
        style="background: {{ x['color'] }}"
        class="w-[24px] h-[24px]"
      ></div>
      {% else %}
      <div 
        {% if x['color'] %}
        style="background: {{ x['color'] }}" 
        {% endif %}
        class="relative overflow-hidden card flex flex-col shadow-md rounded w-48 text-center items-center justify-center h-48"
      >
        <h2 class="text-lg font-bold text-red absolute top-2">{{ x["name"] }}</h2>
        <div>{{ x["time_waited"] }}</div>
        {% if this_waiter != x["user"] %}
        <form hx-post="/transfer" hx-swap="none" class="flex flex-row space-x-4 mt-auto absolute bottom-0">
          <input type="hidden" name="waiter" value="{{ x["user"] }}">
          <button onclick="give()" name="action" value="give" class="hover:underline font-bold rounded ">Give 10s</button>
          {% if can_take %}
          <button onclick="take(this)" name="action" value="take" class="hover:underline font-bold rounded ">Take 10s</button>
          {% else %}
          <span class="no-wrap font-bold">Wait...</span>
          {% endif %}
        </form>
        {% else %}
        <div></div>
        {% endif %}
      </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
